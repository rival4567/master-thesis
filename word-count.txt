Technical Terms and Abbreviations
2D       two-dimensional
3D       three-dimensional
AMADA    Japanese manufacturer of metal processing equipment and ma-
         chinery
API      Application Programming Interface
CAD      Computer-aided design
CBun     Capability Bundle represents a modular framework within KR
         system encapsulating functionalities and providing the access
         to its predefined API
CNC      Computer numerical control
CPS      Cyper-Physical Systems
CSS      Cascade Style Sheets
CV       Computer Vision
DOF      Degree of Freedom
DT       Digital twin
GUI      Graphics User Interface
Gazebo   3D Simulation software usually used in combination with ROS
         to simulate robots in complex indoor and outdoor environ-
         ments.
HRCS     Human-robot collaborative systems
HTML5    Hypertext Markup Language 5
IDE      Integrated Development Environment
IO       Input Output
IT       Information Technology
IoT      Internet of Things
JS       Javascript
JSON     Javascript Object Notation


                                                                 Page I
KR          Kassow Robots
Move J      KR trajectory command for jointspace move which moves by
            target joint-configuration.
Move L      KR trajectory command for Linear Move which uses cartesian-
            space coordinates for robot motion (XYZ;RPY)
Move S      KR trajectory command for Spline Move which can keep the
            orientation exactly within the direction of TCP motion.
OS          Operating System
PC          Personal Computer
PLC         Programmable Logic Controller
ROS         Robot Operating System
RPA         Robotic Process Automation
Ros3Djs     3D Visualization Library for use with the ROS JavaScript Li-
            braries built using three.js. It is developed as part of the Robot
            Web Tools effort
Rosbridge   Rosbridge provides a JSON API to ROS functionality for non-
            ROS programs. There are a variety of front ends that interface
            with rosbridge including a WebSocket server for web browsers
            to interact with
SensoPart   Industrial Sensors manufacturer
TCP         Tool Center Point
TFC         Tool flange centre
TFT         Thin Film Transistor
UI          User Interface
UR          Universal Robots
URDF        Unified Robot Description Format
VISOR       high-performance smart camera in a compact and light sensor
            housing from SensoPart




                                                                       Page II
Symbols and Formulas

   Symbol   Unit     Description
   abrake   deg/s2   Braking accelerations on the robot
                     when emergency stop or protective stop
                     is triggered
   vmax     mm/s2    linear TCP speed set in the teach pen-
                     dant of the robot
   tbrake     s      the braking time of the robot when
                     emergency stop or protective stop is
                     triggered
   sbrake    mm      the braking distance of the robot when
                     emergency stop or protective stop is
                     triggered
   ω        deg/s    Joint speed
   r         mm      distance between the shoulder joints of
                     the robot i.e. joint axis 1 or 2 and ei-
                     ther centre of gravity of load or TFC




                                                                Page III
1       Introduction
1.1     Background
The manufacturing sector is driven by the need of increased productivity. The need for
efficiency, precision, safety and cost reduction has led to significant push towards automa-
tion. The industrial growth is currently pushed by the Industrial 4.0: a fourth wave of
technological advancements that is connecting sensors, machines, and other IT systems.
These connected systems, also known as cyberphysical systems, may communicate with
one another via common Internet-based protocols and use data analysis to self-configure,
anticipate failure, and react to changes. Industry 4.0 is making it possible to have flexi-
bility in production by enabling faster and efficient processes. [5, 35]
    There are nine pillars of technological advancements, namely big data and analytics,
autonomous robots, simulation, horizontal and vertical system integration, the industrial
internet of things, cybersecurity, the cloud, additive manufacturing, augmented reality.
[35]
    Metal bending processes through an AMADA bending machine, used to rely heavily
upon the manual labor traditionally. Industry 4.0 is representing a transformation from
low skill manual labor to a sophisticated system that requires IT-related skills and innova-
tion abilities in the workforce. Robotic Automation would have less variability in product
quality and will not expose operators to physical strain and repetitive motion injuries.
Collaborative robots with vision sensors [54] allows to have flexibility in manufacturing of
metal sheets. It means robot can be programmed to perform bending of different metal
sheets when required. [43]


1.2     Problem Statement
Manual bending of metal sheets is labor-intensive and can lead to human errors, resulting
in inconsistent quality and inefficiency. The automation of this process with a collabora-
tive robot poses several challenges, which includes the precise detection and processing of
sheet metal parts, the accurate execution of the bend operation and the coordination of
the robotic system with other systems in the workcell.
    This robotic workcell will have automatic loading and unloading of metal sheets in
the AMADA bending machine and will use computer vision to detect and measure the
bend angle of metal sheets. In addition, a user-friendly interface will be developed for
monitoring the robotic workcell.



                                                                                     Page 1
                                                         CHAPTER 1: INTRODUCTION



1.3      Objectives
The objectives of this research are as follows:

  1. Designing and developing a robotic workcell capable of bending metal sheets au-
     tonomously. The workcell includes AMADA HFP80-25 NT as the bending machine
     to be automated, KR1410 as the robot, SensoPart vision sensors as cameras, an
     unloading station to get sheets from the operator and a shelf for placing the sheets.

  2. Integration of computer vision technology to detect metal sheets accurately for pick-
     up and measure bending angle. One VISOR® vision sensor mounted on the KR1410
     will be used for sheet detection and second VISOR® placed in robot workspace for
     measuring bending angle. Communication between the vision sensor and KR needs
     to be setup using Telegram.

  3. Building a web interface for the visualization and monitoring of robotic workcell in
     real-time. The web application interfaces with the KR through ROS Bridge library.
     The interface uses web development technologies like ReactJS, NodeJS, Javascript,
     HTML and CSS.

  4. Evaluating the efficiency and accuracy of the robotic workcell in industrial environ-
     ments and compare it with already existing solution.


1.4      Scope
The development of robotic workcell that can be rapidly configured has a major influence
on the manufacturing industry. It allows for more flexibilty and mass customization in
production of parts. [10] Automating the bending process allows manufacturers to increase
productivity, safety, flexibility, and overall process efficiency while having the option for
customization. [35, page 9]
   This thesis contributes to the broadest field of industrial automation and robotics and
shows how Industry 4.0 can transform traditional manufacturing processes. The scope
consists of:

   • Programming control software for the robotic system.

   • Integration of computer vision systems for the detection and inspection of metal
     sheets.

   • Building a web interface for monitoring and visualization.

   • Experimental evaluation of system performance in the industrial environment.


                                                                                     Page 2
                                                        CHAPTER 1: INTRODUCTION


   The thesis does not discuss other aspects of metal manufacturing or the integration of
other manufacturing processes. The programming of the second robot i.e. Franka Emika
panda robot and PLC in the robotic workcell is out of scope of this thesis.


1.5     Outline of the Thesis
The thesis is organized into nine chapters: Chapter 1 clearly defines the problem state-
ment. Chapter 2 reviews state-of-the-art technologies in the industry for automation.
Chapter 3 and 4 describes the design and development of the robotic workcell, containing
both hardware and software components. Chapter 5 discusses the programming of the
control software and web interface. Chapter 6 presents the calibration process and evalua-
tion of the entire robotic workcell. Chapter 7 provides the results and Chapter 8 analyzes
the results, discusses their implications, and addresses potential limitations. In the end,
Chapter 9 summarizes the whole thesis and makes suggestions for future research.




                                                                                    Page 3
2       Literature Review
2.1     Robotic Automation in Manufacturing
Industrial robots were first used for repetitive tasks and material handling. The first
industrial robot, Unimate was deployed by General Motors in 1961. It weighed two
tons and worked on assembly lines, autonomously lifting heaving objects and welding
car parts. Since then robots have evolved to become versatile device that can perform
complex tasks, learn from experience, communicate through devices, and collaborate with
human workers. [7]
    Industrial robots are the right solution for high-volume production process for their
efficiency, uptime and quality. [13] As the manufacturing industry moves smaller batch
production, cobots would be much more useful and flexible in a smart workcell. Cobots
are vastly more advanced and affordable than industrial robots. [14] Common use cases
of robotic automation in manufacturing include material handling [16, 42], welding [45],
assembly [22], pick-and-place [40], palletizing [26], and even metal sheet bending [48].
    Automation is particularly useful in industrial where there is a risk for human opera-
tors. In [18], robotic automation has been implemented for the manufacturing of footwears
which is a hazardous environment for human workers. In it a robotic workcell consisting
of three robots is controlled and coordinated through ROS.
    With the CPS, the machines in the robotic workcell communicate and share data with
each other with which production process is improved. Also, whole production process
can be monitored remotely.[27, page 105] With the AM technologies, design to production
time is vastly decreased. [27, page 116]. The benefits of automation can often outweigh
the initial costs. This way Industry 4.0 is transforming manufacturing sector.


2.2     Automated Bending Processes
Sheet metal bending is a process in which bends are formed using a combination of a
punch and a die. This process is used to create large number of mechanical products
such as furniture panels, shelves, cabinets, housing for electro-mechanical devices etc. [1]
The project partner for this thesis i.e. mech-tron GmbH & Co. KG excels in the
manufacturing of housing systems for electronic and embedded equipment. In this thesis,
manufacturing of one of these sheet metal housing systems will be automated by means
of robotic workcell.
    There are various companies in the market which offers automated bending cells.
They use industrial robot to feed and bend the parts in the bending machine. [29, 41,

                                                                                     Page 4
                                                 CHAPTER 2: LITERATURE REVIEW


46] or systems to assist the bending which are called bending followers and sheet-feeder.
[17] However, using a collaborative robot to perform bending tasks is challenging. A
collaborative robot generally has low payload capacity and requires better robot motion
planning during bending to avoid exceeding joint torques. In [28], a cobot is used to
collaborate with a bending machine to perform 3D curving of metal wire and discusses
the difficulties in holding the part in low payload robot gripper during bending and defines
the generation of optimum robot motion considering the combined task and motion level
constraints.
    In the article [15], two cobots from UR are used for automated bending. The cobot
can perform challenging bend sequences with the help of a regrip station. In similar way,
unloading station is used for regrasping purposes to change the way the cobot presents
the part to the bending machine.


2.2.1     ASTRO bending cell
AMADA already offers an automated solution for the bending process in means of a
system called ASTRO bending cell. This system consists of a handling robot which can
perform production of smaller, complex workpieces and have uniformity in production.
However, press brake and the know-how of handling robot come from AMADA. The
project partner has one of these systems i.e. ASTRO-100 II NT HDS 1030 in their
production floor.
    The ASTRO-100 II NT cell is an “island solution” that is only available in the HDS-
1030 press configuration, ASTRO HP-20 loading and unloading robot, ASTRO-100 II NT
bending robot and the external software ASTRO CAM. The ASTRO-100 II NT cell. [3]
The production using these system is continous and very fast.
    The main drawback of this system is the software ASTRO-CAM, which is owned by
AMADA, and offers less flexibility and requires support from AMADA for programming.
Without any vision sensors, the system is not smart. It can perform repetitive tasks
very fast and with very little interference from operator but without any decision making.
Also, the ASTRO robot is non-collaborative and humans cannot work alongside it. It
requires a large area on the production floor which incurs more cost.
    In this thesis, this system will be compared to our robotic workcell solution which has
collaborative robot and is more cost-effective.


2.3     Robotic System
The real benefit of robots is taking over the three Ds, the dull, the dirty and dangerous
jobs. [23] The functionality of a robotic system during any step of control should include
three principal performance features in the cognitive process: perception, recognition and


                                                                                     Page 5
                                                 CHAPTER 2: LITERATURE REVIEW


decision making. It is obvious that the autonomy of the whole robotic system directly cor-
responds to sensory equipment, processing sensory information and decision algorithms.
[19]
    Robots systems are used in industrial environments for assembling parts, painting cars
or welding operations. [37, 50]. Robots could be arranged in assembly lines to carry out
a particular repetitive task. With the development in robotic perception and algorithms,
robotic systems could be placed in a workcell to perform multiple tasks sequentially.
Sensory systems plays an important role to develop intelligent robotic systems. [50]. Using
smart sensors, a single robotic arm could perform various tasks by making decisions.
    There are various kind of robotic arms available in the market. These include industrial
robots as well as cobots. Cobots are generally more sensitive and easier to program. They
are also more safe to work with humans as compared to industrial robots. Industrial
robots require an enclosed space for safety reasons. However, they are more durable and
the speed is high. [36] Robotic arm also comes in different number of DOF. 6-axis robotic
arms are mostly common, but an additional axis from a 7-axis cobot is advantageous in
our case for collision free trajectory planning in a large workspace.
    A good example of cobot is the 7-axis cobot by Kassow Robots. This sophisticated
robot can mimic human movements and offers an extensive range of motion that allows it
to handle intricate tasks, navigate tight spaces, and maintain consistent product quality
in an industrial setting. These cobots not only increase efficiency and productivity but
also promote safety. They can operate in industrial environments and reduces the risks
associated with humans as they are collaborative. With the ability to work tirelessly
nonstop, theese cobots ensure continuous production and uniform quality standards. [43]


2.3.1     Robot Operating System
The Robot Operating System (ROS) is a set of software libraries and tools which help to
build robot applications. Because it is open-source, there is flexibility where and how to
use ROS, as well as the freedom to customize if it requires. [12] ROS is utilized to build,
control or simulate various kind of robots, from mobile robots to robotic arms. [24] It
could also be used in partnership with a simulation environment like Gazebo. This will
fasten the development process and also make decisions before actually buying a robot.
    In [44], a simulation environment is created for mobile robots using ROS and gazebo
and later tested with the real robot, showcasing the usability of the ROS for the devel-
opment process. In [31], a manipulator is simulated for the pick and place operation.
There are numerous robots build using ROS and is used extensively by both hobbyists
and robotic developers and is a powerful tool.




                                                                                     Page 6
                                                 CHAPTER 2: LITERATURE REVIEW



2.4     Computer Vision in Industrial Automation
Computer vision (CV) techniques have played an important role in promoting the informa-
tion, digitization, and intelligence of industrial manufacturing systems. In manufacturing
industry, CV applications include inspection and quality control, object detection and
process control. In recent years, advancements in camera technology, image processing
algorithms, and CV techniques have significantly increased the capabilities of vision sys-
tems in manufacturing systems. The most common methods of CV are features detection,
recognition, segmentation, and three-dimensional (3D) modeling. [55]
     CV technologies are required for the successful automation of the bending process.
KR1410 robotic arm should be able to correctly detect and pick metal sheets and then
perform precise bending operations. With CV, images can be analyzed in real-time, al-
lowing for feedback and adjustment for the automated bending process. This capability is
necessary to maintain a high production rate while maintaining good precision. There are
many examples of CV being used in industrial environments, like in the sorting and clas-
sification of food products [6, 47, 9], monitoring and safety management of construction
projects [30] or the automated traffic monitoring system. [25, 11]
     The smart extensions of CV are added to the regular cameras in the industrial environ-
ments, which improves the performance of manufacturing or other automation processes.
[8] However, it requires image processing algorithms to run on separate hardware. The
VISOR® vision sensor has a processor in its housing and does not require a PC or PLC
to run. A PC or laptop is required only in order to configure the VISOR® vision sensor.
[39, page 23]


2.5     User Interfaces for Industrial Systems
Product development process can greatly benefit from the integration of the digital twin
models. According to [38], digital twin (DT) embeds a ”virtual” image of the reality
constantly synchronized with the real operating scenario to provide sound information
(knowledge model) to reality interpretation model to draw sound decisions.
    In manufacturing industry, a digital twin can replicate an individual machine, a cell,
a complete line. Digital twin and virtual commissioning are two terms that often come
when talking about Industry 4.0. Both use virtual representations of physical systems to
save time, enable better training, and identify improvement opportunities, among other
benefits. However, the digital twin requires a physical equivalent with IoT technology
for data transfer. Virtual commissioning requires simulation of all the signals with their
timings and sensors and actuator responses. It can exist without a physical system. [20]
    Digital twin enables the creation of high-performance products and optimize produc-
tion systems by allowing early estimations and later re-configurations. The connectivity

                                                                                    Page 7
                                                  CHAPTER 2: LITERATURE REVIEW


of Industry 4.0 technologies is highlighted as a key strategy for achieving the most efficient
product specifications in technical and economic terms for the manufacturer. Simulations
with a digital production twin open up new possibilities in production integration. [49]
    In this thesis, virtual commissioning is first accomplished in order to speed up the
development process. The next step is to get the data from the real robotic system and
use it to test and verify the virtual model. This will be the digital twin model which will
help in:

  1. Identify collision points in the real world and use it to plan trajectory.

  2. Monitor and optimize the loading and unloading process.

  3. Offer testing opportunities for a new product model.

    A functional UI is required for monitoring and controlling robotic systems. When
envisioning the design principles for UIs, the UI should be understandable, reliable and
accessible. [52] The UI should be designed for an untrained user, offer feedback, have
robust error handling in case of system failure, and usable for users with varying levels
of experience. Web-based interfaces have gained popularity due to their accessibility and
ease of deployment. Versatile and accessible UI could be created using web technologies
and ROS for robot control. In the paper [53], a web-based interface is created that utilizes
ROS alongside HTML5, JS and C++, allows for remote control, real-time monitoring,
and 3D visualization of robots. It uses Ros3Djs library to simulate the motion of the robot
on web interface. ROS-based dashboard is also developed for an autonomous wheelchair
using Rosbridge in [21], highlighting the potential of open source technologies to build a
DT.




                                                                                      Page 8
3       System Design
3.1     Overview of the Robotic Workcell
Robotic workcell has to be designed keeping in mind the workspace of handling robot.
Handling robot has to able to reach every station in the workspace without any collision.
The workcell is first developed in simulation with the use of ROS and gazebo software.
This reduced the development time as it allowed for quick changes to the workcell.
    The preliminary designs for the robotic workcell were elaborated in the form of CAD
models and successively converted into final CAD designs. These CAD models were later
converted to suitable file format like .stl and .dae for the simulation software ROS. These
meshes are then utilized to build up the whole workcell in ROS and gazebo. Robot is
defined in URDF file format that includes the physical description of the robot. [51]
This simulated environment in gazebo is used to update and fix the final layout of the
robotic workcell. Trajectories are planned to various subsystems in workcell using ROS
to determine to final position of robot in workcell. Figure 3.1 shows the final layout of
the workcell in gazebo software. It consists of various subsystems which include bending
machine, storage station, unloading station, handling robot, bending machine terminal
operating robot and safety fence.
    The subsystems are described in more detail in the following subsections.
    Sheets are loaded by workcell operator in the unloading station. Sheet metal parts are
picked up by the handling robot and taken to bending machine to perform bending. After
all the bending operations are complete, sheet metal parts are stored in storage station.
The relation between each subsystem and the flow of energy, data, and material is shown
in Figure 3.2.


3.1.1    Bending machine
Bending machine as a unit comes with a terminal and a foot pedal. Terminal is used to
operate the bending machine for starting, stopping and configuring the bending machine
and also loading the bending program. Foot pedal comes with two pedals, one for closing
the bending machine and other for opening of the bending machine. Opening and closing
of bending machine is controlled by a foot pedal for the manual bending operations.
    To automated the bending machine, PLC is used to send signals to foot pedal which
in turn, controls the opening and closing of bending machine.
    An inspection camera is also added to measure the bending angle after each bending
operation. This inspection camera is operated by the PLC and the bending angles are


                                                                                    Page 9
                                                        CHAPTER 3: SYSTEM DESIGN


saved in .csv file format and displayed on a HMI.


3.1.2     Storage station
The storage station is a shelf with 10 drawers. The drawers of the shelf can be automat-
ically opened and closed by the handling robot. It is a mechanical system which is used
to store final bended sheet metal parts.
    When the storage station is full, human operators are to replace a filled shelf with a
new empty shelf with a forklift. Thus, this is the only station which is not fixed in the
robotic workcell. The robotic camera mounted on the handling robot needs to determine
the correct position of the storage station after each restart.


3.1.3     Unloading station
The task of the removal station is to take a single sheet metal part from a stack of
raw sheets and make it available to the robot unit. This is a mechatronic system with
several different components, which all have to function individually, but also together in
combination. The mechatronic system is controlled by the PLC.
   This unloading station is on top of a cabinet which houses the PLC and controller of
the handling robot.


3.1.4     Handling robot
Handling robot is the primary robot which handles the sheet metal parts to different
subsystems i.e. unloading station, bending machine and storage station. It coordinates
with the PLC to make decisions during the execution of the program. Reachability is very
important in this case, as it should be able to handle sheet metal parts in any orientation.
A two finger gripper is used for grasping the sheet metal parts.
    To get accuracy with the bending process, detection of features on the sheet metal
parts is required. A robotic camera is mounted of the robot for this purpose. In this way,
handling robot can be trained to operate with different variants of sheet metal parts.
    ROS simulations of the handling robot is done to determine the performance of robot
in the workcell. The drawers of storage system is especially close to the production floor
and the robot requires some space to move around without getting stuck. Reachability is
tested with the simulation of trajectories before the final integration of the real robot in
the workcell.


3.1.5     Bending machine terminal operating robot
Together with the company VisCheck GmbH, an operating unit is developed for en-
tering parameters on the operating terminal and reading relevant values on the operating

                                                                                   Page 10
                                                         CHAPTER 3: SYSTEM DESIGN


terminal of the bending machine. The unit consists of a franka emika robot, a camera for
reading terminal values and a computer for controlling the robot. A touch screen pointer
is attached to the gripper of the robot for operating the touch screen of terminal.
    As it is programmed by another company, it is not simulated in the software and not
coordinated for any trajectory planning. Sufficient floor space is left near the terminal of
bending machine in the robotic workcell for the installation of this robot. The trajectories
of handling robot are not planned anywhere near this robot. To setup this, safety zone is
created during the programming of the handling robot.


3.1.6     Safety fence
Safety fence marks the boundary of the robotic workcell. Even though the robot final-
ized is a collaborative robot, bending machine poses a safety concern as it is operated
automatically by the PLC. The sheet metal parts are sharp around the corners and when
handled by the robot is deemed as not safe.
    Two doors are installed for an entry in the robotic workcell. One is close to the storage
system and is used to move shelf in-and-out of the workcell by a forklift. The doors are
installed with a safety mechanism by which if the door is open, the whole robot unit and
bending machine cannot operate. This safety mechanism is again controlled by the PLC.
Safety fence is only installed at the end of the project by the company. A simulation of
the fence with ROS and gazebo is not necessary in this case and is not included as assets
in gazebo.


3.2      Requirements for the overall system
  1. A key requirement for the mobile robot unit is to be able to cope with the limited
     space available in the project partner’s production hall. Specifically, this means that
     only an area of approximately 2m × 4.5m is available in front of the sheet metal
     bending machine.

  2. Another point is the operating time of the overall system. The unit should be able
     to autonomously manage a day shift of eight hours and a night shift of six hours
     without any major personnel intervention.

  3. Robot should also be able to handle various sheet metal part variants, i.e. different
     component sizes and geometries. In addition to the flexible handling of different
     sheet metal parts, the focus is also on the simple integration of new variants into the
     existing system. Some of the sheet metal parts in production are of small size. These
     sheets will have little gripping surface after few bendings. Special considerations
     needs to be given to the gripper design so that robot can handle sheet metal parts


                                                                                    Page 11
                                                         CHAPTER 3: SYSTEM DESIGN


       of small and medium sizes. (from 60mm × 110mm to upto 115mm × 220mm) The
       sheets should not move in the gripper during the movement of the robotic arm.

     4. The mobile robot unit is to be used as a supplement to manual production. It is
        therefore necessary that it can be set up and dismantled quickly and easily in front
        of the bending machine.

     5. The hand-eye calibration using a vision sensor could degrade over time due to envi-
        ronmental factors such as temperature changes or vibrations. [4] This will decrease
        the accuracy of robot TCP in positioning and grasping leading to incorrect bending.
        The robot should be able to automatically recalibrate without any long delays when
        there is a request by the operator.

     6. The angle measurement on the bent sheet should be carried out using a camera
        system after each bending process. Based on the measured angle, bending machine
        should be re-adjusted for the next iteration. The necessary values should also be
        entered at the operator terminal by the terminal operating robot. In addition,
        a continuous real-time status query of the bending machine is required via the
        operating terminal. For the implementation of this subtask, the company is working
        with VisCheck GmbH, which specializes in reading screens using a camera and
        making entries via a robot.


3.3       Hardware Selection

3.3.1      AMADA bending machine

3.3.2      Kassow Robots: KR1410
KR1410 is a 7-axis collaborative robotic arm from Kassow Robots. It has a reachability
of 1400 mm which fits satisfactory in the workcell. A seventh axis is particulary useful as
it allows more freedom during trajectory planning especially in close spaces.
    The robotic arm comes with a robot controller and a teach pendant as shown in
Figure 3.8 A robot controller is the main controlling unit for each KR manipulator. Teach
Pendant is used for programming the manipulator and also provides UI and safety controls.
KR1410 could be interfaced with ROS. KR provides packages to install through which
KR messages transmission is set up.

1.    Function Description

Function Description




                                                                                    Page 12
                                                      CHAPTER 3: SYSTEM DESIGN


              Description                  Value
              Model                        HFP 50-20
              Manufacturer                 AMADA (France)
              Year of manufacture          2005
              Drive                        Hydraulic press brake
              Pressing capacity            500 kN
              Working length               2090 mm
              Distance between frames      1665 mm
              CNC control                  AMADA AMNC 3D-graphic
                                           with TFT color screen
              controlled axes              Y1/Y2; X1/X2; R1/R2; Z1/Z2
              Open height                  470 mm
              Stroke                       200 mm
              Bending Speed                10 mm/s
              Approach Speed               100 mm/s
              Return Speed                 100 mm/s
              Laser monitoring             FIESSLER
              Length x width x height      3458 mm x 2450 mm x 2450 mm
              Weight                       4850 kg

           Table 3.1: Bending Machine Technical Specifications (Source: [2])


   The industrial robot arm is a robot system used for manufacturing. It is automated,
programmable and capable of moving within up to seven axes. The robot is typically
used for welding, painting, assembly, pick and place, packaging and labelling.

2.   Increased Safety

Industrial Robotic Automation significantly enhances workplace safety. Robots, especially
cobots like Kassow Robot’s 7-axis version, are equipped with advanced safety features
and mechanisms. They can detect and avoid collisions with people or objects, reducing
the risks associated with manual labour in potentially hazardous environments. This
commitment to safety exemplifies the primary objective of robotic automation: to protect
workers and streamline processes.

3.   More Flexibility

Cobots, with their adaptable designs, represent the epitome of flexibility in industrial
automation. Unlike traditional fixed robots, the 7-axis from Kassow Robots can be quickly
reprogrammed and adapted for different tasks. This agility makes them an invaluable asset
for industries undergoing frequent changes or those with diverse product lines.




                                                                                 Page 13
                                                       CHAPTER 3: SYSTEM DESIGN


         Description                          Value
         Type                                 Collaborative
         Reach                                1400 mm in all directions
         Number of axis                       7-axis
         Operating temperature range          0-45°C
         Weight                               38.0 kg
         AC Power connector                   1 Phase CEE
         Typical Power consumption            400-1200W
         Supply voltage                       100-120 and 200-240 VAC (50/60hz)
         Supply current                       16A
         IO power supply                      24 VDC
         Max. joint speed                     163/225 °/s
         Max. static force on TFC (payload)   10 kg
         Max. static torque on TFC            25 Nm
         Sound level                          Below 70dB (A)
         Ingress protection                   IP54
         Joint ranges                         Joint 1,3,5,6,7 +/- 360°
                                              Joint 2,4 -70/+180°
         Footprint                            160 × 160 mm
         ROS Support                          Available

           Table 3.2: KR1410 Technical Specifications (Source: [34, page 31])


4.   Cost-effective

Introducing Industrial Robotic Automation is a wise financial decision for businesses.
Cobots, which offer a competitive price point compared to traditional industrial robots,
provide significant returns on investment by improving efficiency, reducing waste, and min-
imizing production downtime. The long-term savings, in terms of both time and money,
underscore the economic benefits of integrating robotic automation into the production
process.

5.   Great Scalability

Industrial robots, especially cobots, are inherently scalable. Whether it’s adjusting to a
new product line or ramping up production volumes, Kassow Robot’s 7-axis cobot can
be swiftly recalibrated to meet evolving demands. This ensures that industries can easily
scale their operations without undergoing extensive overhauls or incurring excessive costs.

6.   Improved Quality

Quality assurance is a prominent benefit of Industrial Robotic Automation. Robots, with
their precision and consistency, dramatically reduce the margin for errors in production.


                                                                                  Page 14
                                                        CHAPTER 3: SYSTEM DESIGN


Kassow Robot’s 7-axis model ensures that each task—from welding to assembly—is exe-
cuted with remarkable accuracy, leading to products of superior quality and consistency.

7.   Higher Productivity

Robotic automation directly translates to increased productivity. By automating repeti-
tive and time-consuming tasks, cobots free human workers to concentrate on value-added
activities. In scenarios where cobots collaborate with human workers, the synergy often
leads to faster production cycles, efficient workflows, and overall heightened productivity.


3.3.3     Camera System: VISOR® Vision Sensor
According to VISOR® [39, page 22] user manual, the VISOR® vision sensor is an optical
sensor and is used for the non-contact acquisition or identification of objects. The vision
sensor features a number of different evaluation methods (detectors), with the specific
methods depending on the specific model sensor. The product is designed for industrial
use only. The VISOR® vision sensor is a cost-effective alternative to conventional image
processing systems.
   VISOR® vision sensor is a suitable choice for the identification and classification of
metal sheets for the automated bending process. These sensors enable precise detection
and processing of features on sheets, which leads to the efficiency and accuracy of au-
tomated bending process. Special considerations need to be taken in complex industrial
environments, where light reflections or changing extraneous light can distort evaluation
results. For this reason, an external light source is used to protect against ambient light.

1.   Robotic Camera

2.   Inspection Camera

3.3.4     PLC

3.3.5     Gripper
The gripper was selected according to payload, gripping force and opening width. The
opening width is the dominant selection criterion here, as the gripper must be able to
grip both the thin sheets with thicknesses of around 1 to 3 mm and the handle on the
drawers with a width of 15 mm. An electric gripper was also considered, as the power
supply could have been provided via the cable already integrated in the robot. Due to
the higher costs, the double height and the weight, a pneumatic gripper was chosen.




                                                                                   Page 15
                                                   CHAPTER 3: SYSTEM DESIGN


1.   Robotic Gripper

2.   Unloading Station Gripper

The pneumatic parallel gripper mounted on the Pneumatic swivel unit.


3.4     Software Architecture

3.4.1    Simulation Software

3.4.2    Program Tree

3.4.3    Computer Vision

3.4.4    Web UI




                                                                       Page 16
4       Hardware Integration
4.1     Installation and Configuration

4.1.1    Detection marker

4.1.2    Bending machine unit
Bending machine is set to operate automatically by controlling the foot pedal with PLC.

1.   Marker

2.   Bending station

3.   Bending machine open height measurement sensor

It is important to know exactly the current open height of the bending machine. This
value tells the KR to open the pneumatic parallel gripper as sheet starts bending to avoid
any deformation due to holding of the sheet. Once the bending is complete, the KR can
move out safely without any collision if a set-point on the open height is reached.
    For this, a laser sensor is mounted on the bending machine which measures the open
height of the bending machine. The sensor values are sent to the PLC. KR makes decision
to do bending operation based on this laser sensor value.

4.   Laser monitoring

5.   Bending machine terminal

4.1.3    Robot unit
The robot unit consists of three assemblies: a base, a robot and a gripper (Figure ??).
The robotic system consists of a manipulator from kassow robots with pneumatic parallel
grippers as the end-effector. Pneumatic gripper is controlled by PLC. VISOR® camera
is also mounted on the tool-IO which is used for robotic perception.

1.   Robot base

The base is a simple welded construction made of steel. The choice of steel material
ensures that the base has sufficient dead weight so that it can be transported together
with the robot and gripper using a pallet truck without the risk of tipping over. During
operation, the robot unit is fixed to the floor with four M12 screws.


                                                                                  Page 17
                                            CHAPTER 4: HARDWARE INTEGRATION


2.   KR1410 manipulator

The robot used is a 7-axis robot from Kassow Robots with model KR1410. This fulfills
the requirements defined in the section 3.2.

3.   Robotic Gripper

4.   Manual quick-change system

The gripper is attached to a manual quick-change system. The manual quick-change
system makes it possible to exchange different gripper designs in a short time and without
increased effort if required for a sheet metal part type. Sheet metal part is folded into
something like a box. For this, it is technically sensible or necessary to use a vacuum
gripper. The quick-change system also has an electric and pneumatic power feed-through,
which ensures simple, user-friendly changeover.

5.   Robotic Camera

A camera system is installed on the robot itself. This is used to determine the relative
position between the robot unit and the unloading station, bending machine and storage
station using the markers and between the robot unit and the sheet metal part (when
it is first made available at the sheet pickup station or is gripped) using features on the
sheet metal part.


4.1.4     Storage station

4.1.5     Unloading station
Figure 4.5 shows the elementary components of this station. A room gantry with a working
area of 400 x 1000 x 250 mm is to be used for destacking. All electronic components such
as fuses, power supply units, etc. of the entire mobile robot unit, i.e. not just those of
the unloading station, are installed in several control cabinets below the room gantry.
This allows the removal station to be used more flexibly later on different sheet metal
bending machines. The same is planned for the pneumatic components such as switching
valves, pressure regulators, pressure gauges, etc. Due to the flexibility and the space
still available, the robot’s control cabinet will also be equipped by Kassow Robots with
integrated.
     As with the robot unit, different grippers (vacuum grippers, magnetic grippers, etc.)
can be installed very quickly using a manual quick-change system, depending on the type
of sheet metal part. After the gripper has unstacked a raw sheet, it is transferred to
a pneumatic 180° swivel unit, which in turn is equipped with one or more pneumatic
parallel grippers (depending on the sheet size). From there, the raw sheet is finally picked


                                                                                   Page 18
                                             CHAPTER 4: HARDWARE INTEGRATION


up by the robot unit described in the previous subsection after the exact position has
been determined with the camera on the robot. In order to achieve reliable and precise
positioning, an LED panel is installed as background lighting below the swivel unit. An
HMI control unit is installed for the operation (start, pause, stop, etc.) of the entire
mobile robot unit and as a source of information about relevant process values, such as
the remaining time until the deposit box is completely filled or the removal station is
empty. The protective fence in Figure 1 is flush with the removal station, but contains a
recess so that the HMI can be used at all times.
     Similar to the storage box, the raw sheets are stored on a pull-out drawer (Figure
8). This also consists of a universal basic construction and an individual perforated grid
plate. Depending on the type of sheet metal part, the blanks can be stacked on this
perforated grid plate. The sheet metal parts can be held in place by means of sheet metal
brackets that are screwed to the plate. Telescopic rails are also used here. Because the
drawer does not have to be opened by a robot, but only by a person, rails with integrated
locking mechanisms can be used. Pulling out the drawer ensures ergonomically simple
filling. The drawer position is monitored using a position switch.

1.   Inspection Camera

2.   Unloading station gripper

4.2      Communication Protocols

4.3      Safety Considerations

4.3.1     Payload
The pneumatic parellel gripper, manual quick-change system and robotic camera consti-
tutes a weight of 2.0 kg. This is the fixed load on the tool flange center (TFC). The sheet
metal parts counts as the payload. It is a variable load of only 0.1 kg and is thus ignored
for the calculations in 4.3.2.
    The permissible payload is constrained due to the static torque limit of the wrist joints.
The payload is reduced according to the proximity of the payload’s centre of gravity in
relation to joint axis 5, 6 and 7. [32, page 35] Only about 1100 mm out of 1400 mm
of workspace is utilized by the KR in the workcell. Figure 4.7 illustrates the allowable
payload as a function of distance. It’s evident from this it is safe to operate with a load
a 2.0 kg.




                                                                                     Page 19
                                                 CHAPTER 4: HARDWARE INTEGRATION


4.3.2     Stopping Distance
The stopping time tbrake and distance sbrake should be kept as low as possible. sbrake is set
at 60 mm and tbrake at 0.2 s for safety reason. According to [32, page 35], the time and
distance it takes to stop the robot, for instance with an emergency stop or protective stop,
depends on the load, speed and configuration of the robot. Conservative estimations of
tbrake and sbrake are made by firstly identifying how fast the slowest joints can decelerate.
This depends on the payload, the direction in which the payload is heading relative to
gravity, and the distance between the load or TFC and joint axis 1 or 2, depending on
whatever distance is the longest. The values can be seen in the Table 4.1.

      Load Direction          Distance from Joint axis 1 or 2 to Load center
      [kg]   [deg]                of gravity or TFC, whichever is larger
                          800-950 700-800 600-700 500-600 400-500 300-400 0-300
                0-40       895         1026         1304        1663      2131   2724   3437
                40-80      1433        1578         1745        2132      2522   3131   3724
        0-4
               80-120      1378        1549         1720        2115      2643   3165   4045
               120-160     1861        2040         2371        2773      3259   3824   4342

               Table 4.1: Braking accelerations abrake [deg/s2 ] for KR1410

   The stopping time tbrake and stopping distance sbrake can now be conservatively esti-
mated based on the knowledge of the set speed in the robot program and equations 4.2
and 4.3. Joint speed ω is used for Move J and linear speed vmax for Move L and Move S
commands. By default in normal run mode of program, Move J command runs a maxi-
mum joint speed of 90 deg/s and Move L command runs a maximum linear speed of 1000
mm/s. This linear speed can be converted to joint speed using the equation 4.1.

                                           180 vmax
                                   ω=                    [deg s−1 ]                            (4.1)
                                             rπ

                                                ω
                                  tbrake =             + 0.020 [s]                             (4.2)
                                              abrake
                                                          
                                           tbrake + 0.02
                            sbrake =                           πrw     [mm]                    (4.3)
                                                360
    From these equations, it is evident that tbrake and sbrake are directly proportional to ω.
To avoid triggering joint torque value exceeded error and for safe operation of robot, the
joint speed ω is reduced for specifically difficult trajectory execution or when the distance
between joint axis 1 or joint axis 2 and TFC is large. For example, to keep the same tbrake
for a distance of 900 mm between Joint axis 1 and payload but two robot configuration of
0-40 deg and 120-160 deg, joint speed ω must be halved for 0-40 deg robot configuration.


                                                                                          Page 20
                                           CHAPTER 4: HARDWARE INTEGRATION


4.3.3    Safety zones
Safety Zones represent virtual boundaries in the robot workspace. The robot will reduce
its speed or stop completely if any part of the robot enters the safety zone. This can be
used for protection of sensitive equipment or areas with human presence. [33, page 96]
    A safety zone for unloading station, storage station, bending machine and terminal
operating robot is created. Since the robot can actually touch the floor, an additional
safety zone is added for the floor. The robot will stop immediately if it ever exceeds the
safety zone boundary. It it exceeds, then the operator has to manually move the robotic
arm back inside the safety zone.


4.3.4    Safety functions
Safety functions evaluate external and internal signals of the whole system which can
act immediately to halt the robot or cut him loose from power if necessary. The safety
function of KR complies with EN ISO 13849-1:2015. [33, page 13]

1.   Emergency STOP

The emergency STOP buttons are present at both Teach pendant and Robot cabinet.
These are used to initiate a robot motion or other potentially hazardous situation. The
emersgency STOP always provoke immediate halt of the robot, followed by the power cut
to all executive parts of the robot.

2.   Protective STOP

The Protective STOP can be used interactively by the operator to pause and continue
the running program. After the protective STOP is released, the program can continue
running its normal operation.

   Emergency and protective STOP buttons of the KR can also be triggered by the PLC.
This way if an emergency happens, PLC can also trigger STOP commands to the KR. For
example, if in case the door of safety fence is opened, PLC will trigger protective STOP
command to the KR and the bending machine. There are also two emergency STOP
buttons on the terminal and right-side of bending machine. If triggered, they also stops
everything in the robotic workcell including triggering KR emergency STOP.




                                                                                  Page 21
5        Software Development
5.1      Control Software
By analyzing the current manual process on the bending machine, a flowchart for the
mobile robot unit is developed for the automated bending process. This diagram, which
is still partly abstract, enables the individual activities of the unit to be identified and their
interactions to be described right at the start of the research project. The requirements
for the overall system are also defined, which are explained in more detail in subchapter
??. The description of the process and the definition of the overall requirements represent
an interacting process that inevitably had to be iterated through. This means that the
results of both work packages were revised several times. The final result of these iterations
regarding the activities to be performed by the mobile robot unit can be seen in Figure 1
and Figure 2. Five essential components of the unit emerge from the process. These are
as follows: Feeding, alignment, bending, checking and depositing.
     In the first step, the feed, the sheet metal is to be separated from a stack of sheets. The
advantage of arranging the raw sheets in stacks is that as many parts as possible can be
stored in as little space as possible. Conversely, this means that more space is available for
the bent sheet metal parts, which is of great importance due to the limited space available
on site at the company. The sheet thickness is also checked in advance during feeding
and parts outside the tolerance are sorted out. Furthermore, this information should be
taken into account in the further course of the process when adjusting the parameters of
the bending machine.
     For space reasons, a device should be integrated into the feeder that allows the robot
to grip the sheet metal at a new position if necessary, as otherwise collisions between the
robot and the bending machine may occur during the subsequent bending process if the
robot is not realigned. During the bending process, there should be two different design
variants depending on the sheet variant. With small sheets, the robot lets go of the sheet,
which has an advantageous effect on the robot programming. In order to prevent twisting
in the case of larger parts, it is essential to hold them throughout the entire bending
process. The challenge here lies in programming a robot movement whose path and path
speed matches the movement of the sheet metal, which in turn depends on the lowering
speed of the bending punch.
     A camera system is used to record both the angle and length of the sheet metal after
each individual bending process. The angle is used to readjust the bending machines.
The length measurements serve as a further instrument for monitoring the process. If a
large number of rejects occur in a very short time, the entire process is to be stopped.


                                                                                         Page 22
                                              CHAPTER 5: SOFTWARE DEVELOPMENT


The fully bent sheet metal parts are to be placed in storage boxes that are already in use
in the company but still need to be adapted.


                           Start



                  Initialisation of camera,
                 PLC and configuration of
                 storage system parameters


         3                 Loop




                       Is calibration
                                                Yes
                      requested from                  Perform hand-eye calibration
                         operator?




                          No




                        Is drawer of            No
                                                      Open empty drawer of shelf
                        shelf open?




                         Yes
                               1




                                                                                     Page 23
                                CHAPTER 5: SOFTWARE DEVELOPMENT


                   1

          Wait until sheet
        metal part is avail-
       able at pickup station

        Detect sheet metal
        part using camera

       Pick the sheet metal
       part from the pickup
          station gripper

        Wait until bending
        machine is ready

     Perform bending operation

       Inspect bending angle
        using second camera




         Is bending angle         No
                                            Discard sheet metal part
         within tolerance?

                                                          3

                                 Yes




                                       No
          Is regrasping of                      Is part finished?
No
           part required?

                                                    Yes
             Yes                                          2
      Place sheet metal part
     in pickup station gripper


                                                                       Page 24
                                  CHAPTER 5: SOFTWARE DEVELOPMENT


                     2



          Place the sheet in
          the drawer of shelf




           Is current drawer    Yes
                                         Close the drawer of shelf
             of shelf filled?




                No

                                No               Is storage
                     3
                                                station full?




                                                  Yes

                                                    Stop




           Table 5.1: Control program flowchart of robot unit


5.2   Camera 1: Feature Detection

5.3   Camera 2: Inspection and Quality Control

5.4   Web Interface Design




                                                                     Page 25
6       System Integration and Testing
6.1      Integration Tests

6.2      Calibration
Calibration is a crucial procedure in the development of an automated robotic workcell,
ensuring that all components operate accurately and in harmony.


6.2.1     Robot Calibration
Robot calibration ensures that the Kassow robot can accurately position its end effector
for loading, bending, and unloading metal sheets. This involves:

    • Kinematic Calibration: Adjusting the robot’s kinematic model to correct any
      discrepancies between the theoretical model and the actual hardware. This includes
      measuring and compensating for joint offsets, link lengths, and joint angles.

    • Tool Center Point (TCP) Calibration: Determining the exact position of the
      end effector or tool relative to the robot’s last joint. This is crucial for precise
      manipulation of metal sheets.

    • Workspace Calibration: Defining the robot’s operational workspace and ensuring
      that all tasks are performed within this defined area, avoiding collisions and ensuring
      smooth operation.

   The KR1410 is already calibrated from the factory and does not need to be setup.
Though in simulation, robot kinematic model is generated from the URDF and needs to
be updated to match the real hardware.


6.2.2     Camera Calibration
The ”Hand-Eye calibration (Robotics)” calibration method is used to determine the refer-
ence between ”Hand” (TCP) and ”Eye” Camera coordinate system (position and orienta-
tion) when the VISOR® is attached to the gripper. This allows different image acquisition
positions and still to output the object positions in robot coordinates directly from the
camera. [39, page 102]
    Camera calibration is essential for the accurate detection of metal sheets and mea-
surement of bending angles. The process involves:


                                                                                    Page 26
                              CHAPTER 6: SYSTEM INTEGRATION AND TESTING


   • Intrinsic Calibration: Determining the camera’s internal parameters, such as
     focal length, optical center, and lens distortion. This is typically achieved using a
     calibration target (e.g., a checkerboard pattern) and specialized software tools.

   • Extrinsic Calibration: Establishing the camera’s position and orientation relative
     to the robot or the workcell. This involves aligning the camera’s coordinate system
     with the robot’s coordinate system to ensure accurate detection and measurement.


6.2.3    Sensor Calibration
Laser sensor is added to the bending machine to measure the distance between the tool
and die with the reproducibility in the range of 10µm. This sensor help in coordinating the
bending timings between the bending machine and the robot. This sensor also requires a
baseline or zero point to eliminate any offsets or biases in their readings.


6.2.4    Calibration Procedures
The calibration process is automated within the robot program such that operator could
request to re-calibrate the camera w.r.t robot TCP from the touch panel. This allows to
update the image quality as it degrades over time. The robot finishes the current bending
operation and then in next cycle, start with the auto-calibration.
   The calibration process involves several systematic steps:

  1. Setup Calibration Targets: Place calibration targets within the robot’s workspace
     and at specific positions that the cameras will observe.

  2. Data Collection: Use the robot and cameras to collect data from the calibration
     targets. This includes moving the robot through its range of motion and capturing
     images from different angles.

  3. Parameter Estimation: Use calibration software to estimate the parameters of
     the robot’s kinematic model, the intrinsic and extrinsic parameters of the cameras,
     and the characteristics of any other sensors.

  4. Validation: Verify the calibration by performing tasks that require high precision
     and checking the accuracy of the results. Adjust calibration parameters as needed
     based on validation results.

  5. Documentation: Record the calibration parameters and procedures for future
     reference and troubleshooting.




                                                                                  Page 27
                             CHAPTER 6: SYSTEM INTEGRATION AND TESTING



6.3     Performance Evaluation

6.3.1    Importance of Calibration
Calibration is fundamental to ensuring the accuracy and reliability of an automated
robotic workcell. Proper calibration:

   • Enhances Precision: Ensures that the robot and sensors operate with high accu-
     racy, essential for tasks like metal sheet bending where precise angles and positions
     are critical.

   • Improves Consistency: Reduces variability in operations, leading to consistent
     product quality and reducing the likelihood of errors.

   • Facilitates Integration: Ensures that all components of the workcell operate
     cohesively, enabling smooth integration and coordination.

   • Supports Troubleshooting: Provides a baseline for identifying and resolving
     issues that may arise during operation.

   By establishing rigorous calibration procedures, the automated robotic workcell can
achieve optimal performance, ensuring that the bending process is executed with high
precision and reliability.




                                                                                 Page 28
7     Experimental Results
7.1   Setup and Methodology

7.2   Data Collection

7.3   Results and Analysis




                              Page 29
8   Discussion




                 Page 30
9       Conclusion and Future Works
9.1      Summary

9.2      Recommendations for Future Research

9.2.1     Control Software Update
For a single sheet metal part, teach pendant from the kassow robot is enough for the
control program. However, to allow flexibility in production with different sheet metal
part, a separate hardware is required to run ROS controller manager. At the moment,
ROS is only used for visualizing the robot motion in the web app. In order to be able
to quickly create a new robot program for new sheet metal part variants, simulation
software is to be developed with the help of ROS. With the help of this software, path
trajectories between the individual subsystems (sheet pickup station, bending machine,
shelf storage) can be generated in advance without having to remove the real robot unit
from any ongoing production, which can then be easily integrated into the new robot
program on the real robot.

    • Adding camera data to the digital twin.

    • Storage for web applications.

    • Creating App for phones.




                                                                               Page 31
