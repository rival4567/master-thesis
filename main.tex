\documentclass[12pt,a4paper,final]{report}

\usepackage{pdfpages}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[hidelinks]{hyperref}
\usepackage{geometry}
\usepackage{setspace}
\usepackage{bookmark}
\usepackage{titlesec}
\usepackage{datatool}
\usepackage{tikz}
\usepackage{textcomp} % For \MakeUppercase
\usepackage[backend=bibtex, style=numeric]{biblatex}
\usepackage{glossaries} % For creating an index of abbreviations
\usepackage{longtable} % For tables that span multiple pages
\usepackage{xcolor}
\usepackage{subcaption} % for subfigures
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{multirow}

\pgfplotsset{compat=1.17}

% for creating diagrams and flowcharts
\usetikzlibrary{shapes.geometric, arrows, positioning}

% Define a custom dark green color
\definecolor{darkgreen}{rgb}{0.0, 0.5, 0.0}

\tikzstyle{startstop} = [circle, minimum width=1cm, minimum height=1cm, text centered, draw=red, fill=none, text width=1.5cm, line width=1pt, inner sep=0pt]
\tikzstyle{nodepage} = [circle, minimum width=0.25cm, minimum height=0.25cm, text centered, draw=red, fill=none, text width=0.5cm, line width=1pt, inner sep=0pt]
\tikzstyle{process} = [rectangle, minimum width=3cm, minimum height=1cm, text centered, draw=cyan, fill=none, text width=5cm]
\tikzstyle{processorange} = [rectangle, minimum width=3cm, minimum height=1cm, text centered, draw=orange, fill=none, text width=5cm, line width=1pt]
\tikzstyle{decision} = [diamond, minimum width=1cm, minimum height=1cm, text centered, draw=darkgreen, fill=none, text width=3.5cm, line width=1pt, inner sep=0pt]
\tikzstyle{coordinate} = [circle, minimum size=1pt, fill=black, inner sep=0pt]
\tikzstyle{arrow} = [thick,->,>=stealth]

% Specify line-spacing to 1.5
\onehalfspacing

% Specify margin
\geometry{top=2.5cm,bottom=2.5cm,left=3cm,right=2cm,headheight=14.5pt}

% Adjust \chapter margins
\titlespacing*{\chapter}{0pt}{0pt}{10pt} % Adjust these values as needed


% Add header and footer
\pagestyle{fancy}
\fancyhf{} % Clear all header and footer fields
% Redefine \chaptermark to remove the period after the chapter number
\renewcommand{\chaptermark}[1]{%
  \markboth{\it{\MakeUppercase{Chapter \thechapter:\ #1}}}{}}
\fancyhead[R]{\leftmark} % Left-align the chapter name
\fancyfoot[R]{Page \thepage} % Right-align page number in the footer
% Remove header line
\renewcommand{\headrulewidth}{0pt}


% Ensuring plain pages (like chapter starting pages) also use the fancy style
\fancypagestyle{plain}{
    \fancyhf{} % Clear all header and footer fields
    \fancyfoot[R]{Page \thepage} % Right-align page number in the footer
    \renewcommand{\headrulewidth}{0pt} % Remove header line on plain pages
}
\pagenumbering{Roman}

% Change Chapter formatting
\titleformat{\chapter}[hang]
    {\normalfont\huge\bfseries}
    {\thechapter}
    {1em}
    {}

% Add bibliography resources
\addbibresource{references.bib}

% Redefine \@dottedtocline to remove dots in \tableofcontents
\makeatletter
\renewcommand{\@dottedtocline}[5]{%
  \ifnum #1>\c@tocdepth \else
    \vskip \z@ \@plus.2\p@
    {\leftskip #2\relax \rightskip \@tocrmarg \parfillskip -\rightskip
     \parindent #2\relax\@afterindenttrue
     \interlinepenalty\@M
     \leavevmode
     \@tempdima #3\relax
     \advance\leftskip \@tempdima \null\nobreak\hskip -\leftskip
     {#4}\nobreak
     \leaders\hbox{} \hfill \nobreak
     \hb@xt@\@pnumwidth{\hfil\normalfont \normalcolor #5}%
     \par}%
  \fi}
\makeatother

% Get numbered subsection
\setcounter{secnumdepth}{2}

% Set the depth of the table of contents
\setcounter{tocdepth}{2}

% Start thesis
\begin{document}

% Title according to guidelines
\includepdf[pages={1,2}]{Pre-introduction/abschlussarbeit_titel-1.pdf}

\title{Robotic Workcell for Automated Bending Process}

\author{Shivam Shivam}

\date{July 2024}

%Abstract
\input{Pre-introduction/abstract.tex}

%Table of contents and other information
\tableofcontents
\listoffigures
\listoftables
% \include{Pre-introduction/symbols}
\include{Pre-introduction/acronyms}

\include{Pre-introduction/symbols}
% \chapter[syms]{Symbols and Formulas}
% reset page number
\newpage
\setcounter{page}{1}
\pagenumbering{arabic}

\include{1. Introduction/main}

\include{2. Literature Review/main}

\include{3. System Design/main}

\include{4. Hardware Integration/main}

\include{5. Software Development/main}

\include{6. System Integration and Testing/main}

\include{7. Experimental Results/main}

\include{8. Discussion/main}

\include{9. Conclusion and Future Works/main}

% Add all the references here
\addcontentsline{toc}{chapter}{Bibliography}
\setcounter{page}{0}
\pagenumbering{roman}

\printbibliography
\include{A. Appendices/appendix}

\end{document}